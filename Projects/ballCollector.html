<!DOCTYPE html>
<html>
    <head>
      <link rel="stylesheet" type="text/css" href="../project.css">
      <link rel="stylesheet" type="text/css" href="../navbar.css">
      <link rel="stylesheet" type="text/css" href="../footer.css">
      <link rel="stylesheet" type="text/css" href="../tags.css">
    </head>
    <body>
      <nav class="navbar">
        <div class="navbar-left">
          <a class="navbar-header" href="../index.html">Reece Waite</a>
          <div class="navbar-icons">
            <a class="navbar-icon" href="mailto:reece.waite1@gmail.com">
              <img src="../Assets/email-icon-navbar.png" class="email-icon"></a>
            <a class="navbar-icon" href="https://github.com/MithkaReece" target="_blank">
              <img src="../Assets/github-logo-navbar.png" class="github-icon"></a>
              <a class="navbar-icon" href="https://www.linkedin.com/in/reece-waite" target="_blank">
                <img src="../Assets/LinkedIn-Icon-Navbar.png" class="linkedin-icon"></a>
          </div>
        </div>
       
        <ul class="navbar-links">
          <li><a class="active" href="">Ball-Collector</a></li>
          <li><a href="../index.html">Home</a></li>
          <li><a href="../skills.html">Skills</a></li>
          <li><a href="../cv.html">CV</a></li>
          <li><a href="../about.html">About</a></li>
        </ul>
      </nav>

      <a class="arrow left-arrow" href="monsterMaze.html">
        <span class="arrow-text">Monster Maze</span>
      </a>
      <a class="arrow right-arrow" href="graphics.html">
        <span class="arrow-text">Graphics Module</span>
      </a>


      <div class="main">
        <section class="project-section">
          <h1 class="project-title">Ball Collector (Peggle-Like)</h1>
          <h3 class="date">Autumn 2023</h3>
          <p>In this project, I aimed to practice my Unity skills to create a small but finished game and generate a build for mobile. 
            I made use of Unity's iOS app, which can stream mobile builds to a phone for testing touch controls and resolution scaling.
          </p>
          <div class="video-container">
            <iframe width="1920" height="1080" src="https://www.youtube.com/embed/eVFfXHcprvU" frameborder="0" allowfullscreen class="project-video"></iframe>
            <script>
              // JavaScript to make the iframe responsive
              function adjustIframeHeight() {
                  var iframe = document.querySelector('.video-container iframe');
                  var containerWidth = document.querySelector('.video-container').clientWidth;
                  var aspectRatio = 16 / 9; // Change this to match your video's aspect ratio
                  var newHeight = containerWidth / aspectRatio;
                  iframe.style.height = newHeight + 'px';
              }
      
                // Call the function when the window is resized
                window.addEventListener('resize', adjustIframeHeight);
      
                // Call the function initially
                adjustIframeHeight();
            </script>
          </div>

          <div class="tags">
            <a href="https://github.com/MithkaReece/Ball-Collector" target="_blank">
            <img src="../Assets/github-logo.png" class="github-tag">
          </a>
          <div style="background-color: rgb(65, 21, 149)">C#</div>
          <div style="background-color: rgb(84, 84, 84)">Unity</div>
          <div style="background-color: rgb(226, 6, 6)">Mobile</div>
        </div>

          <h2>Key Features</h2>
          <ul>
            <li><b>Level Generation:</b> 
              Each tier of difficulty maps to different stats when generating a level. Each tier affects the probability of black balls 
              (negative points), purple balls (extra points), and the number and size of the balls within the play area.
            </li>
            <li><b>Mobile Controls:</b> The original controls used the mouse, where the firing stick always pointed at the cursor and fired on click. 
              You could only fire again once there were no active balls left. Later, a check was added for the mobile platform, which changed 
              the controls to point at a touch position held down and fire upon releasing this touch.
            </li>
            <li><b>Scoring System:</b> The scoring system adds up the balls collected in the moving bucket at the bottom of the level. 
              Purple balls are worth more than orange ones, and black balls deduct points. However, your score cannot drop below zero at any time.
            </li>
          </ul>
          <h2>Challenges, solutions and lessons learnt</h2>
          <p>
            The main challenge was the physics between the bucket and the falling balls because I couldn't rely solely on the default rigidbody physics. 
            This was because I wanted the balls to move along a fixed sine wave path, while rigidbody physics is based on applied forces. To achieve my 
            final result, I made the bucket use regular rigidbody physics, but it mimicked the desired sine wave movement. I achieved this by tracking 
            the desired sine wave position over time and accelerating the bucket towards that point. To achieve the desired result below, it required a 
            lot of testing with different parameters to maintain smooth movement resembling a sine wave without applying too much force that would send 
            colliding balls flying.
          </p>

          <div class="game-container" data-src="../Games/BallCollector/index.html">
            <h3>Embedded Game</h3>
            <div class="button-container">
              <button class="loadGameButton">Load/Reload Game</button>
              <button class="unloadGameButton">Unload Game</button>
            </div>
            <img class="placeholder-image" src="../Games/BallCollector/Preview.png" width="323" height="700">
            <iframe class="game" width="323" height="0" hidden></iframe>
          </div>
        </section>
      </div>



      <script>
        const gameFrame = document.querySelector(".game");
        const placeholderImage = document.querySelector('.placeholder-image');

        const loadGameButton = document.querySelector(".loadGameButton");
        const unloadGameButton = document.querySelector(".unloadGameButton");

        loadGameButton.addEventListener("click", function() {
          console.log("Test")
          gameFrame.src = "../Games/BallCollector/index.html";
          gameFrame.hidden = false; // Show game
          gameFrame.style.height = '800px'; // Give game height
          placeholderImage.style.display = 'none'; // Hide preview image
          placeholderImage.hidden = true; // Hide preview image

        });

        unloadGameButton.addEventListener("click", function() {
          gameFrame.src = "about:blank";
          gameFrame.hidden = true;
          gameFrame.style.height = "0";
          placeholderImage.style.display = 'block'; 
          placeholderImage.hidden = false;
        });
      </script>

      <footer class="bottom-banner">
        <div class="links">
          <a href="mailto:reece.waite1@gmail.com">Email</a>
          <a href="https://github.com/MithkaReece">GitHub</a>
          <a href="https://www.linkedin.com/in/reece-waite">LinkedIn</a>
        </div>
      </footer>
    </body>
  </html>